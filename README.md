# Проект "Homework"

## Описание проекта

IT-отдел крупного банка делает новую фичу для личного кабинета клиента. Это виджет, который 
показывает несколько последних успешных банковских операций клиента. Вам доверили реализовать 
этот проект, который на бэкенде будет готовить данные для отображения в новом виджете.

Вы будете работать над проектом на протяжении всех домашних заданий этого курса.

## Требования к окружению:

```
Python 3.13+
```

## Установка

1. Клонируйте репозиторий:
```
git clone https://github.com/Svetlana062/Homework.git
```
2. Установите зависимости:
```
pip install -r requirements.txt
```
3. В случае отсутствия менеджера проектов _poetry_, выполните установку пакетов:
```
poetry install
```
4. Войдите в виртуальное окружение:
```
poetry shell
```

## Запуск программы:

* Из корня репозитория проекта:
```
python main.py
```

# Тестирование

## Описание:

В данном проекте для организации тестирования, создания структуры 
тестов и удобного вывода информации об их прохождении был использован фреймворк pytest.

## Преимущества pytest:

* Простой и интуитивно понятный синтаксис;
* Поддержка множества плагинов;
* Удобное и гибкое управление тестами;

## Установка:

Чтобы начать тестирование, необходимо, через терминал, установить pytest:
```
poetry add --group dev pytest
```

## Запуск тестов:

### Запуск тестов можно произвести через терминал.

* Запуск модуля:
```
pytest test_masks.py
```
* Запуск тестов из директории:
```
pytest tests/
```

## Покрытие кода тестами:
Используется инструмент pytest-cov для измерения покрытия кода тестами.
Текущий процент покрытия составляет 98%

Чтобы самому проверить покрытие тестами с помощью pytest-cov вам надо:
* Установить pytest-cov:
```
pip install pytest-cov
```
* Запустить проверку покрытия кода тестами:
```
pytest --cov
```
После этих манипуляций в терминале, в строке Total вам выведет процент покрятия кода тестами

## Расположение тестов:

Тесты находятся в пакете tests, который расположен в корне проекта.

## Названия модулей:

Именование модулей (файлов) с тестами соответствует имени файла, который тестируется:
* test_masks.py - данный модуль тестирует маскировку номеров карт/счетов;
* test_processing.py - данный модуль тестирует, возвращает ли функция новый список словарей, содержащий 
только те словари, у которых ключ state соответствует указанному значению и сортирует ли список словарей по дате;
* test_widget.py - данный модуль содержит тестовые функции для обработки наименования карты/счета и введенной даты;
* test_generators.py - данный модуль тестирует функции вывода результатов транзакций;
* test_decorators.py - данный модуль содержит тестовые функции для проверки функциональности декоратора, который 
автоматически логирует начало и конец выполнения функции, а также ее результаты или возникшие ошибки.
